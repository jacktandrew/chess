<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Chess</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" type="text/css" href="label.css">
</head>
<body>

<section class="board"></section>
<ol class="log"></ol>
<script src="utils.js"></script>
<script src="board.js"></script>
<script src="pieces.js"></script>
<script src="game.js"></script>
<script src="pawn.js"></script>
<script src="check.js"></script>
<script src="notation.js"></script>
<script src="ai.js"></script>
<script src="promotion.js"></script>
<script src="castling.js"></script>
<script src="render.js"></script>
<script src="setup.js"></script>
<script>
  var boardEl = document.querySelector('.board');
  var board = chess.board = new chess.Board();
  chess.team = {};
  var white = chess.team.white = new chess.Pieces('white');
  var black = chess.team.black = new chess.Pieces('black');
  chess.setup.init(board, boardEl, white, black);
  chess.game = new chess.Game(board);

  coords = [];

  u.ajax('immortal.json', function(string) {
    game = JSON.parse(string);
    u.each(game, function(moves) {
      u.each(moves, function(move) {
        var l = move.length - 1,
          man = move.match(/[B-R]/),
          file = move.match(/[a-h]/),
          row = move[l];

        if (!man) man = ['P'];
        if (row === '+') row = move[l-1];

        console.log(man[0], file[0], row);
      });
    });
  });

</script>
</body>
</html>